@model TestingAndCalibrationLabs.Web.UI.Models.Node<TestingAndCalibrationLabs.Web.UI.Models.LayoutDTO>

<link rel="stylesheet" href="https://cdn.materialdesignicons.com/5.0.45/css/materialdesignicons.min.css">

@*<div class="col-lg-6 col-sm-12 col-xs-12 mt-3 form-element-for-common-control  right-pd-input">
    <input class=" form-input width-full black-border" type="text" id="justAnInputBox" placeholder="MultipleSelect" rows="1" autocomplete="off" />
</div>*@
<div class="col-lg-6  col-sm-12 col-xs-12 mt-3 form-element-for-common-control  right-pd-frm-input">
    <input class="form-input width-full black-border" name="@Model.Value.UiPageMetadata.UiControlTypeName@Model.Value.UiPageMetadata.Id" id="@Model.Value.UiPageMetadata.UiControlTypeName@Model.Value.UiPageMetadata.Id" placeholder="MultipleSelect" rows="1" onchange="this.setAttribute('value',this.value)" for="@Model.Value.UiPageMetadata.UiControlDisplayName" />
 
    
    <span asp-validation-for="@Model.Value.UiPageMetadata.UiControlDisplayName" class="text-danger"></span>
</div>
@*<script>
    $(document).ready(function () {
        debugger;
        var idOfRecord = $("#Id").val();
        var modelData = JSON.parse('@Json.Serialize(Model)');
        var uiPageData = modelData.value.uiPageData;
        if (idOfRecord != undefined && uiPageData != null) {
            var lookupCategoryId = modelData.value.uiPageMetadata.moduleId;
            var id = "#" + modelData.value.uiPageMetadata.uiControlTypeName + modelData.value.uiPageMetadata.id;
            var val = uiPageData.value;
            $(id).val(val);
        }
    });
</script>*@
<script type="text/javascript">
    //$(document).ready(function () {
    //    debugger;
    //    var modelData = JSON.parse('@Json.Serialize(Model)');
    //    var lookupCategoryId = modelData.value.uiPageMetadata.moduleId;
    //    var uiPageData = modelData.value.uiPageData;
    //    var id = "#" + modelData.value.uiPageMetadata.uiControlTypeName + modelData.value.uiPageMetadata.id;
    //    $.ajax({
    //        type: "POST",
    //        url: "@Url.Action("MultipleValue","Common")",
    //        data: { moduleId: lookupCategoryId },
    //        success: function (response) {
    //            for (var i = 0; i < response.length; i++) {
    //                debugger;
    //                var lookupId = response[i].id;
    //                var lookupName = response[i].name;
    //                if (i == 0) {
    //                    $("#multivalueId").val(lookupId);
    //                    $(id).append("<option value='" + lookupId + "' selected>" + lookupName + "</option>");
    //                } else {
    //                    $(id).append("<option value='" + lookupId + "'>" + lookupName + "</option>");
    //                }
    //            }
    //            var idOfRecord = $("#Id").val();
    //            if (idOfRecord != undefined) {
    //                var selectedId = uiPageData.value;
    //                var changeId = id + " [value=" + selectedId + "]";
    //                $(changeId).attr('selected', 'true');
    //                $("#multivalueId").val(selectedId);
    //            }
    //        },
    //        error: function (req, status, error) {
    //            alert('hii');
    //        }
    //    });

    //    $(id).change(function () {
    //        debugger;
    //        var stageId = this.getSelectedIds();
    //        $("#multivalueId").val(stageId);
    //    });

    //});



    var SampleJSONData = @ViewBag.bag;

   
    var comboTree1, comboTree2;
    debugger;
    //var idOfRecord = $("#Id").val();

    jQuery(document).ready(function ($) {

        comboTree1 = $("#multivalue3065").comboTree({
            source: SampleJSONData,
            isMultiple: true,
            cascadeSelect: true,
            withSelectAll: true
        });

        //    comboTree1.onChange(function () {
        //        debugger;
        //        let selectedIds = this.getSelectedIds();
        //         let listOfLookups = selectedIds.toString();
        //        //let listOfLookups = selectedIds.join(",");
        //        //Value = listOfLookups;
        //        //document.getElementById('dropDownlist').value = listOfLookups;
        //   });


        //     .onChange(function () {
        //    console.log($(this).getSelectedIds());
        //});
    });
</script>
