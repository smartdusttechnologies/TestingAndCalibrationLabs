
<head>
    <style>
        .color-green {
            color: #2F8D46;
        }

        .pgform {
            text-align: center;
            position: relative;
            margin-top: 20px
        }

            .pgform fieldset {
                background: white;
                border: 0 none;
                border-radius: 0.5rem;
                box-sizing: border-box;
                width: 100%;
                margin: 0;
                padding-bottom: 20px;
                position: relative
            }

        .finish {
            text-align: center
        }

        .pgform fieldset:not(:first-of-type) {
            display: none
        }

        .pgform .previous-step, .next-step {
            width: 100px;
            font-weight: bold;
            color: white;
            border: 0 none;
            border-radius: 0px;
            cursor: pointer;
            padding: 10px 5px;
            margin: 10px 5px 10px 0px;
            float: right
        }

        .form, .previous-step {
            background: #616161;
        }

        .form, .next-step {
            background: #2F8D46;
        }

        .pgform .previous-step:hover,
        .pgform .previous-step:focus {
            background-color: #000000
        }

        .pgform .next-step:hover,
        .pgform .next-step:focus {
            background-color: #2F8D46
        }

        .text {
            color: #2F8D46;
            font-weight: normal
        }

        .pgProgressbar {
            margin-bottom: 30px;
            overflow: hidden;
            color: lightgrey
        }

            .pgProgressbar .active {
                color: #2F8D46
            }

            .pgProgressbar li {
                list-style-type: none;
                font-size: 15px;
                width: 25%;
                float: left;
                position: relative;
                font-weight: 400
            }

            .pgProgressbar #step1:before {
                content: "1"
            }

            .pgProgressbar #step2:before {
                content: "2"
            }

            .pgProgressbar #step3:before {
                content: "3"
            }

            .pgProgressbar #step4:before {
                content: "4"
            }

            .pgProgressbar li:before {
                width: 50px;
                height: 50px;
                line-height: 45px;
                display: block;
                font-size: 20px;
                color: #ffffff;
                background: lightgray;
                border-radius: 50%;
                margin: 0 auto 10px auto;
                padding: 2px
            }

            .pgProgressbar li:after {
                content: '';
                width: 100%;
                height: 2px;
                background: lightgray;
                position: absolute;
                left: 0;
                top: 25px;
                z-index: -1
            }

            .pgProgressbar li.active:before,
            .pgProgressbar li.active:after {
                background: #2F8D46
            }

        .progress {
            height: 20px
        }

        .progress-bar {
            background-color: #2F8D46
        }

    </style>
</head>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-11 col-sm-9 col-md-7 col-lg-6 col-xl-5 text-center p-0 mt-3 mb-2">
            <div class="px-0 pt-4 pb-0 mt-3 mb-3">
                <form class="pgform tab-content" id="form">
                    <ul class="nav nav-tabs topnav pgProgressbar" id="progressbar">
                        <li class="active" id="step1" onclick="feildsetsAccordingToSteps(this)" data-bs-toggle="tab" data-bs-target="#feild1"><strong>Step 1</strong></li>
                        <li id="step2" onclick="feildsetsAccordingToSteps(this)" data-bs-toggle="tab" data-bs-target="#feild2"><strong>Step 2</strong></li>
                        <li id="step3" onclick="feildsetsAccordingToSteps(this)" data-bs-toggle="tab" data-bs-target="#feild3"><strong>Step 3</strong></li>
                        <li id="step4" onclick="feildsetsAccordingToSteps(this)" data-bs-toggle="tab" data-bs-target="#feild4"><strong>Step 4</strong></li>
                    </ul>
                    <div class="progress">
                        <div class="progress-bar"></div>
                    </div> <br>
                    <fieldset class="dactiveAndactive" id="feild1" role="tabpanel" aria-labelledby="feild1">
                        <h2 class="color-green">Welcome To GFG Step 1</h2>
                        <input type="button" onclick="setflag1()" name="next-step" class="next-step" value="Next Step" />
                    </fieldset>
                    <fieldset class="dactiveAndactive" id="feild2" role="tabpanel" aria-labelledby="Sign-In-tab">
                        <h2 class="color-green">Welcome To GFG Step 2</h2>
                        <input type="button" onclick="setflag2()" name="next-step" class="next-step" value="Next Step" />
                        <input type="button" name="previous-step" class="previous-step" value="Previous Step" />
                        <nav>
                            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Home</button>
                                <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Profile</button>
                                <button class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact" type="button" role="tab" aria-controls="nav-contact" aria-selected="false">Contact</button>
                            </div>
                        </nav>
                        <div class="tab-content" id="nav-tabContent">
                            <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">This is some placeholder content the Home tab's associated content. Clicking another tab will toggle the visibility of this one for the next. The tab JavaScript swaps classes to control the content visibility and styling. You can use it with tabs, pills, and any other .nav-powered navigation.</div>
                            <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">This is some placeholder content the profile tab's associated content. Clicking another tab will toggle the visibility of this one for the next. The tab JavaScript swaps classes to control the content visibility and styling. You can use it with tabs, pills, and any other .nav-powered navigation.</div>
                            <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">This is some placeholder content the Contact tab's associated content. Clicking another tab will toggle the visibility of this one for the next. The tab JavaScript swaps classes to control the content visibility and styling. You can use it with tabs, pills, and any other .nav-powered navigation.</div>
                        </div>
                    </fieldset>
                    <fieldset class="dactiveAndactive" id="feild3" role="tabpanel" aria-labelledby="Sign-In-tab">
                        <h2 class="color-green">Welcome To GFG Step 3</h2>
                        <input type="button" onclick="setflag3()" name="next-step" class="next-step" value="Final Step" />
                        <input type="button" name="previous-step" class="previous-step" value="Previous Step" />
                        <nav>
                            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Home</button>
                                <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Profile</button>
                                <button class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact" type="button" role="tab" aria-controls="nav-contact" aria-selected="false">Contact</button>
                            </div>
                        </nav>
                        <div class="tab-content" id="nav-tabContent">
                            <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">This is some placeholder content the Home tab's associated content. Clicking another tab will toggle the visibility of this one for the next. The tab JavaScript swaps classes to control the content visibility and styling. You can use it with tabs, pills, and any other .nav-powered navigation.</div>
                            <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">This is some placeholder content the profile tab's associated content. Clicking another tab will toggle the visibility of this one for the next. The tab JavaScript swaps classes to control the content visibility and styling. You can use it with tabs, pills, and any other .nav-powered navigation.</div>
                            <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">This is some placeholder content the Contact tab's associated content. Clicking another tab will toggle the visibility of this one for the next. The tab JavaScript swaps classes to control the content visibility and styling. You can use it with tabs, pills, and any other .nav-powered navigation.</div>
                        </div>
                    </fieldset>
                    <fieldset class="dactiveAndactive" id="feild4">
                        <div class="finish">
                            <h2 class="text text-center color-green" onclick="setflag4()">
                                <strong>FINISHED</strong>
                            </h2>
                        </div>
                        <input type="button" name="previous-step" class="previous-step" value="Previous Step" />
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function() {
        debugger;
        var currentGfgStep, nextGfgStep, previousGfgStep;
        var opacity;
        var current = 1;
        var steps = $("fieldset").length;
        //Boolean flag1, flag2, flag3, flag4;

        document.getElementById("feild2").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
        document.getElementById("feild3").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
        document.getElementById("feild4").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;

        setProgressBar(current);

        $(".next-step").click(function() {

            currentGfgStep = $(this).parent();
            nextGfgStep = $(this).parent().next();

            $("#progressbar li").eq($("fieldset")
                .index(nextGfgStep)).addClass("active");

            nextGfgStep.show();
            currentGfgStep.animate({ opacity: 0 }, {
                step: function(now) {
                    opacity = 1 - now;

                    currentGfgStep.css({
                        'display': 'none',
                        'position': 'relative'
                    });
                    nextGfgStep.css({ 'opacity': opacity });
                },
                duration: 500
            });
            setProgressBar(++current);
        });

        $(".previous-step").click(function() {

            currentGfgStep = $(this).parent();
            previousGfgStep = $(this).parent().prev();

            $("#progressbar li").eq($("fieldset")
                .index(currentGfgStep)).removeClass("active");

            previousGfgStep.show();

            currentGfgStep.animate({ opacity: 0 }, {
                step: function(now) {
                    opacity = 1 - now;

                    currentGfgStep.css({
                        'display': 'none',
                        'position': 'relative'
                    });
                    previousGfgStep.css({ 'opacity': opacity });
                },
                duration: 500
            });
            setProgressBar(--current);
        });
        
        //$('#feild1').click(function setflag1() {
        //    flag1 = true;
        //    setProgressBar()
        //});
        //function setflag1() {
        //    flag1 = true;
        //    setProgressBar()
        //}
        //function setflag2() {
        //    flag2 = true;
        //    setProgressBar()
        //}
        //function setflag3() {
        //    flag3 = true;
        //    setProgressBar()
        //}
        //function setflag4() {
        //    flag4 = true;
        //    setProgressBar()
        //}
        function setProgressBar() {
            var percent = parseFloat(100 / steps) * current;
            percent = percent.toFixed();
            $(".progress-bar")
                .css("width", percent + "%")

            //var numberOfFlags;
            //if (flag1 == true) { numberOfFlags = numberOfFlags + 1; }
            //if (flag2 == true) { numberOfFlags = numberOfFlags + 1; }
            //if (flag3 == true) { numberOfFlags = numberOfFlags + 1; }
            //if (flag4 == true) { numberOfFlags = numberOfFlags + 1; }

            //var percent = parseFloat(100 / steps) * 4;
            //percent = percent.toFixed();
            //$(".progress-bar")
            //    .css("width", percent + "%")
        }
        $(".submit").click(function() {
            return false;
        })
    });
    //debugger;
    function feildsetsAccordingToSteps(event) {
        var evnt = event.id;
        if (evnt == "step1") {
            //$('#feild1').attr("display:block");
            document.getElementById("feild1").style.cssText = `
                                      display: block;
                                    `;
            document.getElementById("feild2").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
            document.getElementById("feild3").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
            document.getElementById("feild4").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
        }
        else if (evnt == "step2") {
            document.getElementById("feild1").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
            document.getElementById("feild2").style.cssText = `
                                      display: block;
                                      position: relative;
                                    `;
            document.getElementById("feild3").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
            document.getElementById("feild4").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
        }
        else if (evnt == "step3") {
            document.getElementById("feild1").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
            document.getElementById("feild2").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
            document.getElementById("feild3").style.cssText = `
                                      display: block;
                                    `;
            document.getElementById("feild4").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
        }
        else if (evnt == "step4") {
            document.getElementById("feild1").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
            document.getElementById("feild2").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
            document.getElementById("feild3").style.cssText = `
                                      display: none;
                                      position: relative;
                                    `;
            document.getElementById("feild4").style.cssText = `
                                      display: block;
                                    `;
        }
    }
</script>