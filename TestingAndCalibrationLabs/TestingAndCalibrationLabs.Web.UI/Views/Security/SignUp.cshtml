@model TestingAndCalibrationLabs.Web.UI.Models.UserDTO

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
<div class="padding-login bg-white">
    <form id="SignUpData" asp-controller="User" asp-action="Add">
        <div class="col-lg-12 col-sm-0 col-xs-0 mt-2 form-element-for-common-control right-pd-frm-input">
            <input class="form-input  inputForSignUp gray-border" type="text" id="FirstName" placeholder=" " name="FirstName" item.IsRequired onchange="this.setAttribute('value',this.value)">
            <label class="form-label" style="color:gray;" for=FirstName>
                FirstName
                <span class="red-color">*</span>
            </label>
        </div>
        <div class="col-lg-12 col-sm-0 col-xs-0 mt-2 form-element-for-common-control right-pd-frm-input">
            <input class="form-input  inputForSignUp gray-border" type="text" id="LastName" placeholder=" " name="LastName" item.IsRequired onchange="this.setAttribute('value',this.value)">
            <label class="form-label" style="color:gray;" for=LastName>
                LastName
                <span class="red-color">*</span>
            </label>
        </div>
        <div class="col-lg-12 col-sm-0 col-xs-0 mt-2 form-element-for-common-control right-pd-frm-input">
            <input class="form-input  inputForSignUp gray-border" type="text" id="Username" placeholder=" " name="UserName" item.IsRequired onchange="this.setAttribute('value',this.value)">
            <label class="form-label" style="color:gray;" for=Username>
                UserName
                <span class="red-color">*</span>
            </label>
        </div>
        <div class="col-lg-12 col-sm-0 col-xs-0 mt-2 form-element-for-common-control right-pd-frm-input">
            <input class="form-input  inputForSignUp gray-border" type="email" id="Email" placeholder=" " name="Email" item.IsRequired onchange="this.setAttribute('value',this.value)">
            <label class="form-label" style="color:gray;" for=Email>
                Email
                <span class="red-color">*</span>
            </label>
        </div>
        <div class="col-lg-12 col-sm-0 col-xs-0 mt-2 form-element-for-common-control right-pd-frm-input">
            <input class="form-input inputForSignUp gray-border" type="Mobile" id="Mobile" placeholder=" " name="Mobile" item.IsRequired onchange="this.setAttribute('value',this.value)">
            <label class="form-label" style="color:gray;" for=Mobile>
                Mobile
                <span class="red-color">*</span>
            </label>
        </div>
        <div class="col-lg-12 col-sm-0 col-xs-0 mt-3 form-element-for-common-control right-pd-frm-input divDrop">
            <select class="form-input  inputForSignUp gray-border" name="Country" id="Country" onchange="this.setAttribute('value',this.value)" asp-for="Country" asp-items="@ViewBag.Country">
                <option disabled="disabled" selected>....</option>
                <option value="0">Afghanistan</option>
                <option value="Åland Islands">Åland Islands</option>
                <option value="India">India</option>
                <option value="Algeria">Algeria</option>
                <option value="American Samoa">American Samoa</option>
                <option value="Andorra">Andorra</option>
                <option value="Angola">Angola</option>
                <option value="Anguilla">Anguilla</option>
                <option value="Antarctica">Antarctica</option>
                <option value="Antigua and Barbuda">Antigua and Barbuda</option>
                <option value="Argentina">Argentina</option>
                <option value="Armenia">Armenia</option>
                <option value="Aruba">Aruba</option>
                <option value="Australia">Australia</option>
                <option value="Austria">Austria</option>
                <option value="Azerbaijan">Azerbaijan</option>
                <option value="Bahamas">Bahamas</option>
                <option value="Bahrain">Bahrain</option>
                <option value="Bangladesh">Bangladesh</option>
            </select>
            <label for="Country" class="form-label" style="color:gray;">
                Country
                <span class="red-color">*</span>
            </label>
        </div>
        <div class="col-lg-12 col-sm-0 col-xs-0 mt-3 form-element-for-common-control right-pd-frm-input">
            <select class="form-input inputForSignUp gray-border" name="Organizations" id="Organizations" asp-items="@ViewBag.Organizations">
                <option disabled="disabled" selected>....</option>

            </select>
            <label for="Organizations" style="color:gray;" class="form-label">
                Organizations
                <span class="red-color">*</span>
            </label>
        </div>
        <div class="col-lg-12 col-sm-0 col-xs-0 mt-2 form-element-for-common-control right-pd-frm-input">
            <input class="form-input  inputForSignUp gray-border" type="password" id="EnterPassword" placeholder=" " name="password" item.IsRequired onchange="this.setAttribute('value',this.value)">
            <label class="form-label" style="color:gray;" for=Enter Password>
                password
                <span class="red-color">*</span>
            </label>
        </div>
        <div class="col-lg-12 col-sm-0 col-xs-0 mt-2 form-element-for-common-control right-pd-frm-input">
            <input class="form-input  inputForSignUp gray-border" type="password" id="ReEnterPassword" placeholder=" " name="ReEnterPassword" item.IsRequired onchange="this.setAttribute('value',this.value)">
            <label class="form-label" style="color:gray;" for=ReEnterPassword>
                Confirm password
                <span class="red-color">*</span>
            </label>
        </div>
        <div class="col-lg-13 col-sm-0 col-xs-0 mt-3">
            <button type="button" class="btn btn-success text-center btn-block" onclick="User()">Sign-Up</button>
        </div>
    </form>
    <input type="hidden" value="" name="details" id="details" />
    <div class="row">
        <div class="col login-padding-left"><hr></div>
        <div class="col-auto" style="margin-top:3px;">or</div>
        <div class="col login-padding-right"><hr></div>
    </div>
    <div class="row">
        <div class="col">
            <button class="btn btn-primary btn-block" style=" ">
                <i class="fab fa-twitter me-2 float-left"></i>Twitter
            </button>
        </div>
        <div class="col">
            <button class="btn btn-primary btn-block">
                <i class="fa-brands fa-facebook me-2 float-left"></i>Facebook
            </button>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col">
            <button class="btn btn-danger btn-block" style="">
                <i class="fa-brands fa-google me-2 float-left"></i>Google
            </button>
        </div>
        <div class="col" style="">
            <button class="btn btn-primary btn-block">
                <i class="fa-brands fa-linkedin me-2 float-left"></i>Linked-In
            </button>
        </div>
    </div>
</div>
<div>
    <div class="d-flex justify-content-center fixed-bottom">
        <div class="alert alert-success" role="alert" id="snackbarsuccess">
            <div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation6 MuiAlert-root MuiAlert-filledSuccess MuiAlert-filled css-1lgz3mj" role="alert">
                <div class="MuiAlert-icon css-1l54tgj">
                    <svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeInherit css-1cw4hi4" focusable="false" aria-hidden="true" viewBox="0 0 24 24">
                        <path d="M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"></path>
                    </svg>
                </div><div class="MuiAlert-message css-1xsto0d">Sign-Up successfully!</div>
            </div>
        </div>
    </div>
</div>
<div>
    <div class="d-flex justify-content-center fixed-bottom">
        <div role="alert" id="snackbarerror">
            <div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation6 MuiAlert-root MuiAlert-filledError MuiAlert-filled css-1ufabz4" role="alert">
                <div class="MuiAlert-icon css-1l54tgj">
                    <svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeInherit css-1cw4hi4" focusable="false" viewBox="0 0 24 24">
                        <path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path>
                    </svg>
                </div>
                <div class="MuiAlert-message css-1xsto0d" id="errormessage">!</div>
            </div>
        </div>
    </div>
</div>

<script>
    //User validation 
    function myFunction() {

        var x = document.getElementById("snackbarsuccess");
        x.className = "show";
        setTimeout(function () { x.className = x.className.replace("show", ""); }, 3000);
    }
    function myFunctionError() {

        var x = document.getElementById("snackbarerror");
        x.className = "show";
        setTimeout(function () { x.className = x.className.replace("show", ""); }, 3000);
    }
    function User() {
        //remove highlight column
        var under = ["#FirstName", "#LastName", "#Mobile", "#Email", "#ReEnterPassword", "#EnterPassword", "#Organizations", "#Country", "#Username"];
        for (var i = 0; i < under.length; i++) {
            if ($(under[i]).hasClass("red-error-border")) {
                $(under[i]).removeClass("red-error-border").addClass("gray-border");
        }
        }
        //validation messages
        $.ajax({
            type: "POST",
            url: "@Url.Action("Add","User")",
            data: $('#SignUpData').serialize(),
            dataType: 'json',
            success: function (result) {
                myFunction();
                SuccessMessage(NotificationNumbers++, "Sign-Up successfully!");
                window.location.href = '@Url.Action("index","security")';
            },
            error: function (result) {
                var newresponseJSON = result.responseJSON;
                var newErrorMessage = newresponseJSON;
                for (var i = 0; i < newErrorMessage.length; i++) {
                    var sourceId = "#" + newErrorMessage[i].sourceId;
                    $(sourceId).removeClass("gray-border").addClass("red-error-border");
                    myFunctionError();
                    document.getElementById("errormessage").innerHTML = newErrorMessage[i].reason;
                    ErrorMessage(NotificationNumbers++, newErrorMessage[i].reason);
                }
            }
        });

    }

</script>